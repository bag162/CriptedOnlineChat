{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\source\\\\repos\\\\CriptedOnlineChat\\\\CriptedOnlineChat\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { db } from 'src/db';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/Services/rsa\";\nimport * as i3 from \"@angular/forms\";\nexport class RegisterUserComponent {\n  constructor(http, baseUrl, rsaService) {\n    this.http = http;\n    this.currentUser = {\n      Login: \"\"\n    };\n    this.baseUrl = baseUrl;\n    this.rsaService = rsaService;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var user = yield db.User.toArray();\n\n      if (user.length != 0) {\n        _this.currentUser = user[0];\n        $(\"#inputLogin\").prop(\"disabled\", true);\n        $(\"#sendButton\").hide();\n      }\n    })();\n  }\n\n  RegisterUser() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.currentUser.Login == \"\") {\n        // TODO add notify\n        return;\n      }\n\n      yield _this2.http.post(_this2.baseUrl + \"user\", _this2.currentUser).subscribe(result => _this2.DisplayNotify(result));\n      return;\n    })();\n  }\n\n  DisplayNotify(resultRequest) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (resultRequest == \"true\") {\n        // TODO добавить сразу в localDB\n        yield db.User.add(yield _this3.currentUser, 0);\n        console.log(resultRequest + \"true\");\n        $(\"#inputLogin\").prop(\"disabled\", true);\n        $(\"#sendButton\").hide();\n        $(\"#succesNotify\").show(500);\n        setTimeout(() => {\n          $(\"#succesNotify\").hide(500);\n        }, 2500);\n      } else {\n        console.log(resultRequest + \"false\");\n        $(\"#dangerNotify\").show(500);\n        setTimeout(() => {\n          $(\"#dangerNotify\").hide(500);\n        }, 2500);\n      }\n    })();\n  }\n\n}\n\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) {\n  return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.RSAService));\n};\n\nRegisterUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterUserComponent,\n  selectors: [[\"register-user-component\"]],\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 21,\n  vars: 0,\n  consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"border\", \"col-md-4\", \"p-3\", \"mt-5\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter login\", 1, \"form-control\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Enter password\", 1, \"form-control\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Re-enter your password\", 1, \"form-control\"], [1, \"form-check\", \"pt-1\", \"pb-1\"], [\"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function RegisterUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"label\", 3);\n      i0.ɵɵtext(5, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 2);\n      i0.ɵɵelementStart(8, \"label\");\n      i0.ɵɵtext(9, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 2);\n      i0.ɵɵelementStart(12, \"label\");\n      i0.ɵɵtext(13, \"Repeat password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 7);\n      i0.ɵɵelement(16, \"input\", 8);\n      i0.ɵɵelementStart(17, \"label\", 9);\n      i0.ɵɵtext(18, \"Remember me\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 10);\n      i0.ɵɵtext(20, \"Registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/DELL/source/repos/CriptedOnlineChat/CriptedOnlineChat/ClientApp/src/app/RegisterUserComponent/registerUserComponent.ts"],"names":["db","i0","i1","i2","i3","RegisterUserComponent","constructor","http","baseUrl","rsaService","currentUser","Login","ngOnInit","user","User","toArray","length","$","prop","hide","RegisterUser","post","subscribe","result","DisplayNotify","resultRequest","add","console","log","show","setTimeout","ɵfac","RegisterUserComponent_Factory","t","ɵɵdirectiveInject","HttpClient","RSAService","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","RegisterUserComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","encapsulation"],"mappings":"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","sourcesContent":["import { db } from 'src/db';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"src/app/Services/rsa\";\r\nimport * as i3 from \"@angular/forms\";\r\nexport class RegisterUserComponent {\r\n    constructor(http, baseUrl, rsaService) {\r\n        this.http = http;\r\n        this.currentUser = { Login: \"\" };\r\n        this.baseUrl = baseUrl;\r\n        this.rsaService = rsaService;\r\n    }\r\n    async ngOnInit() {\r\n        var user = await db.User.toArray();\r\n        if (user.length != 0) {\r\n            this.currentUser = user[0];\r\n            $(\"#inputLogin\").prop(\"disabled\", true);\r\n            $(\"#sendButton\").hide();\r\n        }\r\n    }\r\n    async RegisterUser() {\r\n        if (this.currentUser.Login == \"\") {\r\n            // TODO add notify\r\n            return;\r\n        }\r\n        await this.http.post(this.baseUrl + \"user\", this.currentUser).subscribe(result => this.DisplayNotify(result));\r\n        return;\r\n    }\r\n    async DisplayNotify(resultRequest) {\r\n        if (resultRequest == \"true\") { // TODO добавить сразу в localDB\r\n            await db.User.add(await this.currentUser, 0);\r\n            console.log(resultRequest + \"true\");\r\n            $(\"#inputLogin\").prop(\"disabled\", true);\r\n            $(\"#sendButton\").hide();\r\n            $(\"#succesNotify\").show(500);\r\n            setTimeout(() => {\r\n                $(\"#succesNotify\").hide(500);\r\n            }, 2500);\r\n        }\r\n        else {\r\n            console.log(resultRequest + \"false\");\r\n            $(\"#dangerNotify\").show(500);\r\n            setTimeout(() => {\r\n                $(\"#dangerNotify\").hide(500);\r\n            }, 2500);\r\n        }\r\n    }\r\n}\r\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) { return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.RSAService)); };\r\nRegisterUserComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegisterUserComponent, selectors: [[\"register-user-component\"]], features: [i0.ɵɵProvidersFeature([])], decls: 21, vars: 0, consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"border\", \"col-md-4\", \"p-3\", \"mt-5\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter login\", 1, \"form-control\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Enter password\", 1, \"form-control\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Re-enter your password\", 1, \"form-control\"], [1, \"form-check\", \"pt-1\", \"pb-1\"], [\"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]], template: function RegisterUserComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelement(1, \"div\");\r\n        i0.ɵɵelementStart(2, \"form\", 1);\r\n        i0.ɵɵelementStart(3, \"div\", 2);\r\n        i0.ɵɵelementStart(4, \"label\", 3);\r\n        i0.ɵɵtext(5, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(6, \"input\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 2);\r\n        i0.ɵɵelementStart(8, \"label\");\r\n        i0.ɵɵtext(9, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(10, \"input\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 2);\r\n        i0.ɵɵelementStart(12, \"label\");\r\n        i0.ɵɵtext(13, \"Repeat password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(14, \"input\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 7);\r\n        i0.ɵɵelement(16, \"input\", 8);\r\n        i0.ɵɵelementStart(17, \"label\", 9);\r\n        i0.ɵɵtext(18, \"Remember me\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"button\", 10);\r\n        i0.ɵɵtext(20, \"Registration\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}