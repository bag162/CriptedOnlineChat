{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\source\\\\repos\\\\CriptedOnlineChat\\\\CriptedOnlineChat\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/db\";\nimport * as i4 from \"@angular/forms\";\nexport class RegisterUserComponent {\n  constructor(registerUser, userService, router, appDb) {\n    this.registerUser = registerUser;\n    this.userService = userService;\n    this.router = router;\n    this.appDb = appDb;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(yield _this.appDb.User.toArray());\n    })();\n  }\n\n  registerNewUser() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.registerUser.password != _this2.registerUser.repeatPassword) {\n        $('.invalidMessage').text(\"Password mismatch\");\n        $('.form-control').addClass('is-invalid');\n        return;\n      }\n\n      var result = yield _this2.userService.RegisterUser(_this2.registerUser);\n\n      if (result.isSuccess) {\n        let newUser = {\n          Login: result.login,\n          id: result.id\n        };\n\n        _this2.appDb.User.add(newUser);\n\n        _this2.router.navigate(['']);\n      } else {\n        $(\".form-control\").addClass(\"is-invalid\");\n        $('.invalidMessage').text(result.descriptionError);\n      }\n    })();\n  }\n\n  deleteErrorNotify() {\n    $(\".form-control\").removeClass(\"is-invalid\");\n  }\n\n  redirectToLoginPage() {\n    this.router.navigate(['login']);\n  }\n\n}\n\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) {\n  return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.RegisterUserDTO), i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AppDB));\n};\n\nRegisterUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterUserComponent,\n  selectors: [[\"register-user-component\"]],\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 29,\n  vars: 4,\n  consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"border\", \"col-md-4\", \"p-3\", \"mt-5\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"name\", \"login\", \"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter login\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [1, \"invalid-feedback\"], [\"name\", \"password\", \"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Enter password\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [\"name\", \"repeatPassword\", \"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Re-enter your password\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [1, \"invalid-feedback\", \"invalidMessage\"], [1, \"form-check\", \"pt-1\", \"pb-1\"], [\"name\", \"isPersistent\", \"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\", \"mt-3\", 3, \"click\"]],\n  template: function RegisterUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵelementStart(2, \"h2\");\n      i0.ɵɵtext(3, \"Registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelementStart(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_7_listener() {\n        return ctx.deleteErrorNotify();\n      })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.registerUser.login = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2);\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 6);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_12_listener() {\n        return ctx.deleteErrorNotify();\n      })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.registerUser.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2);\n      i0.ɵɵelementStart(15, \"label\");\n      i0.ɵɵtext(16, \"Repeat password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 7);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_17_listener() {\n        return ctx.deleteErrorNotify();\n      })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.registerUser.repeatPassword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 8);\n      i0.ɵɵtext(19, \" Registration error \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 9);\n      i0.ɵɵelementStart(21, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.registerUser.isPersistent = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"label\", 11);\n      i0.ɵɵtext(23, \"Remember me\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_24_listener() {\n        return ctx.registerNewUser();\n      });\n      i0.ɵɵtext(25, \"Registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\");\n      i0.ɵɵelementStart(27, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_27_listener() {\n        return ctx.redirectToLoginPage();\n      });\n      i0.ɵɵtext(28, \"I have an account. Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerUser.login);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerUser.password);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerUser.repeatPassword);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerUser.isPersistent);\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.CheckboxControlValueAccessor],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/DELL/source/repos/CriptedOnlineChat/CriptedOnlineChat/ClientApp/src/app/RegisterUserComponent/registerUserComponent.ts"],"names":["i0","i1","i2","i3","i4","RegisterUserComponent","constructor","registerUser","userService","router","appDb","ngOnInit","console","log","User","toArray","registerNewUser","password","repeatPassword","$","text","addClass","result","RegisterUser","isSuccess","newUser","Login","login","id","add","navigate","descriptionError","deleteErrorNotify","removeClass","redirectToLoginPage","ɵfac","RegisterUserComponent_Factory","t","ɵɵdirectiveInject","RegisterUserDTO","UserService","Router","AppDB","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","RegisterUserComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RegisterUserComponent_Template_input_click_7_listener","RegisterUserComponent_Template_input_ngModelChange_7_listener","$event","ɵɵelement","RegisterUserComponent_Template_input_click_12_listener","RegisterUserComponent_Template_input_ngModelChange_12_listener","RegisterUserComponent_Template_input_click_17_listener","RegisterUserComponent_Template_input_ngModelChange_17_listener","RegisterUserComponent_Template_input_ngModelChange_21_listener","isPersistent","RegisterUserComponent_Template_button_click_24_listener","RegisterUserComponent_Template_button_click_27_listener","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","CheckboxControlValueAccessor","encapsulation"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../Services/user.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"src/db\";\r\nimport * as i4 from \"@angular/forms\";\r\nexport class RegisterUserComponent {\r\n    constructor(registerUser, userService, router, appDb) {\r\n        this.registerUser = registerUser;\r\n        this.userService = userService;\r\n        this.router = router;\r\n        this.appDb = appDb;\r\n    }\r\n    async ngOnInit() {\r\n        console.log(await this.appDb.User.toArray());\r\n    }\r\n    async registerNewUser() {\r\n        if (this.registerUser.password != this.registerUser.repeatPassword) {\r\n            $('.invalidMessage').text(\"Password mismatch\");\r\n            $('.form-control').addClass('is-invalid');\r\n            return;\r\n        }\r\n        var result = await this.userService.RegisterUser(this.registerUser);\r\n        if (result.isSuccess) {\r\n            let newUser = { Login: result.login, id: result.id };\r\n            this.appDb.User.add(newUser);\r\n            this.router.navigate(['']);\r\n        }\r\n        else {\r\n            $(\".form-control\").addClass(\"is-invalid\");\r\n            $('.invalidMessage').text(result.descriptionError);\r\n        }\r\n    }\r\n    deleteErrorNotify() {\r\n        $(\".form-control\").removeClass(\"is-invalid\");\r\n    }\r\n    redirectToLoginPage() {\r\n        this.router.navigate(['login']);\r\n    }\r\n}\r\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) { return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.RegisterUserDTO), i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AppDB)); };\r\nRegisterUserComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegisterUserComponent, selectors: [[\"register-user-component\"]], features: [i0.ɵɵProvidersFeature([])], decls: 29, vars: 4, consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"border\", \"col-md-4\", \"p-3\", \"mt-5\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"name\", \"login\", \"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter login\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [1, \"invalid-feedback\"], [\"name\", \"password\", \"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Enter password\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [\"name\", \"repeatPassword\", \"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Re-enter your password\", 1, \"form-control\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [1, \"invalid-feedback\", \"invalidMessage\"], [1, \"form-check\", \"pt-1\", \"pb-1\"], [\"name\", \"isPersistent\", \"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\", \"mt-3\", 3, \"click\"]], template: function RegisterUserComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"form\", 1);\r\n        i0.ɵɵelementStart(2, \"h2\");\r\n        i0.ɵɵtext(3, \"Registration\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"label\", 3);\r\n        i0.ɵɵtext(6, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 4);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_7_listener() { return ctx.deleteErrorNotify(); })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_7_listener($event) { return ctx.registerUser.login = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(8, \"div\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 2);\r\n        i0.ɵɵelementStart(10, \"label\");\r\n        i0.ɵɵtext(11, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"input\", 6);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_12_listener() { return ctx.deleteErrorNotify(); })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_12_listener($event) { return ctx.registerUser.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"div\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 2);\r\n        i0.ɵɵelementStart(15, \"label\");\r\n        i0.ɵɵtext(16, \"Repeat password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"input\", 7);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_input_click_17_listener() { return ctx.deleteErrorNotify(); })(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_17_listener($event) { return ctx.registerUser.repeatPassword = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 8);\r\n        i0.ɵɵtext(19, \" Registration error \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"div\", 9);\r\n        i0.ɵɵelementStart(21, \"input\", 10);\r\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_21_listener($event) { return ctx.registerUser.isPersistent = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"label\", 11);\r\n        i0.ɵɵtext(23, \"Remember me\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"button\", 12);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_24_listener() { return ctx.registerNewUser(); });\r\n        i0.ɵɵtext(25, \"Registration\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"div\");\r\n        i0.ɵɵelementStart(27, \"button\", 13);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_27_listener() { return ctx.redirectToLoginPage(); });\r\n        i0.ɵɵtext(28, \"I have an account. Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.registerUser.login);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.registerUser.password);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.registerUser.repeatPassword);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.registerUser.isPersistent);\r\n    } }, directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.CheckboxControlValueAccessor], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}