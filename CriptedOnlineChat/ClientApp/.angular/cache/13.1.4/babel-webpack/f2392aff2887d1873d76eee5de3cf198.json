{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\source\\\\repos\\\\CriptedOnlineChat\\\\CriptedOnlineChat\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet MessageListComponent = class MessageListComponent {\n  constructor(db, dataService, webSocketService) {\n    this.messageList = [];\n    this.user = {\n      Login: \"\"\n    };\n    this.sendedMessage = \"\";\n    this.dispayedMessagesLogin = \"\";\n    this.DataService = dataService;\n    this.db = db;\n    this.WebSocketService = webSocketService;\n  }\n\n  ngDoCheck() {\n    if (this.messageList.length == 0) {\n      $(\".messageClass\").hide();\n    } else {\n      $(\".messageClass\").show();\n    }\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.DataService.currentDisplayedLogin.subscribe(currentDisplayedLogin => {\n        _this.DisplayMissages(currentDisplayedLogin);\n\n        _this.dispayedMessagesLogin = currentDisplayedLogin;\n      });\n      yield _this.db.User.toArray().then(x => _this.user = x[0]);\n    })();\n  }\n\n  DisplayMissages(dispayedMessagesLogin) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.db.Messages.where(\"RecipientLogin\").equalsIgnoreCase(dispayedMessagesLogin).toArray().then(x => _this2.messageList = x);\n    })();\n  }\n\n  SendMessage() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this3.sendedMessage == \"\") {\n        return;\n      }\n\n      _this3.WebSocketService.sendMessage(_this3.sendedMessage, _this3.dispayedMessagesLogin);\n    })();\n  }\n\n};\n\n__decorate([Input()], MessageListComponent.prototype, \"displayedUserLogin\", void 0);\n\nMessageListComponent = __decorate([Component({\n  selector: 'message-list-component',\n  templateUrl: './message.list.component.html',\n  styleUrls: ['./message.list.component.css']\n})], MessageListComponent);\nexport { MessageListComponent };","map":{"version":3,"sources":["C:/Users/DELL/source/repos/CriptedOnlineChat/CriptedOnlineChat/ClientApp/src/app/HomeComponent/MessageListComponent/Message.list.component.ts"],"names":["__decorate","Component","Input","MessageListComponent","constructor","db","dataService","webSocketService","messageList","user","Login","sendedMessage","dispayedMessagesLogin","DataService","WebSocketService","ngDoCheck","length","$","hide","show","ngOnInit","currentDisplayedLogin","subscribe","DisplayMissages","User","toArray","then","x","Messages","where","equalsIgnoreCase","SendMessage","sendMessage","prototype","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,eAAjC;AACA,IAAIC,oBAAoB,GAAG,MAAMA,oBAAN,CAA2B;AAClDC,EAAAA,WAAW,CAACC,EAAD,EAAKC,WAAL,EAAkBC,gBAAlB,EAAoC;AAC3C,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,IAAL,GAAY;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,WAAL,GAAmBP,WAAnB;AACA,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKS,gBAAL,GAAwBP,gBAAxB;AACH;;AACDQ,EAAAA,SAAS,GAAG;AACR,QAAI,KAAKP,WAAL,CAAiBQ,MAAjB,IAA2B,CAA/B,EAAkC;AAC9BC,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB;AACH,KAFD,MAGK;AACDD,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBE,IAAnB;AACH;AACJ;;AACKC,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,YAAM,KAAI,CAACP,WAAL,CAAiBQ,qBAAjB,CAAuCC,SAAvC,CAAkDD,qBAAD,IAA2B;AAC9E,QAAA,KAAI,CAACE,eAAL,CAAqBF,qBAArB;;AACA,QAAA,KAAI,CAACT,qBAAL,GAA6BS,qBAA7B;AACH,OAHK,CAAN;AAIA,YAAM,KAAI,CAAChB,EAAL,CAAQmB,IAAR,CAAaC,OAAb,GAAuBC,IAAvB,CAA4BC,CAAC,IAAI,KAAI,CAAClB,IAAL,GAAYkB,CAAC,CAAC,CAAD,CAA9C,CAAN;AALa;AAMhB;;AACKJ,EAAAA,eAAe,CAACX,qBAAD,EAAwB;AAAA;;AAAA;AACzC,YAAM,MAAI,CAACP,EAAL,CAAQuB,QAAR,CAAiBC,KAAjB,CAAuB,gBAAvB,EAAyCC,gBAAzC,CAA0DlB,qBAA1D,EAAiFa,OAAjF,GAA2FC,IAA3F,CAAgGC,CAAC,IAAI,MAAI,CAACnB,WAAL,GAAmBmB,CAAxH,CAAN;AADyC;AAE5C;;AACKI,EAAAA,WAAW,GAAG;AAAA;;AAAA;AAChB,UAAI,MAAI,CAACpB,aAAL,IAAsB,EAA1B,EAA8B;AAC1B;AACH;;AACD,MAAA,MAAI,CAACG,gBAAL,CAAsBkB,WAAtB,CAAkC,MAAI,CAACrB,aAAvC,EAAsD,MAAI,CAACC,qBAA3D;AAJgB;AAKnB;;AAjCiD,CAAtD;;AAmCAZ,UAAU,CAAC,CACPE,KAAK,EADE,CAAD,EAEPC,oBAAoB,CAAC8B,SAFd,EAEyB,oBAFzB,EAE+C,KAAK,CAFpD,CAAV;;AAGA9B,oBAAoB,GAAGH,UAAU,CAAC,CAC9BC,SAAS,CAAC;AACNiC,EAAAA,QAAQ,EAAE,wBADJ;AAENC,EAAAA,WAAW,EAAE,+BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,8BAAD;AAHL,CAAD,CADqB,CAAD,EAM9BjC,oBAN8B,CAAjC;AAOA,SAASA,oBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nlet MessageListComponent = class MessageListComponent {\r\n    constructor(db, dataService, webSocketService) {\r\n        this.messageList = [];\r\n        this.user = { Login: \"\" };\r\n        this.sendedMessage = \"\";\r\n        this.dispayedMessagesLogin = \"\";\r\n        this.DataService = dataService;\r\n        this.db = db;\r\n        this.WebSocketService = webSocketService;\r\n    }\r\n    ngDoCheck() {\r\n        if (this.messageList.length == 0) {\r\n            $(\".messageClass\").hide();\r\n        }\r\n        else {\r\n            $(\".messageClass\").show();\r\n        }\r\n    }\r\n    async ngOnInit() {\r\n        await this.DataService.currentDisplayedLogin.subscribe((currentDisplayedLogin) => {\r\n            this.DisplayMissages(currentDisplayedLogin);\r\n            this.dispayedMessagesLogin = currentDisplayedLogin;\r\n        });\r\n        await this.db.User.toArray().then(x => this.user = x[0]);\r\n    }\r\n    async DisplayMissages(dispayedMessagesLogin) {\r\n        await this.db.Messages.where(\"RecipientLogin\").equalsIgnoreCase(dispayedMessagesLogin).toArray().then(x => this.messageList = x);\r\n    }\r\n    async SendMessage() {\r\n        if (this.sendedMessage == \"\") {\r\n            return;\r\n        }\r\n        this.WebSocketService.sendMessage(this.sendedMessage, this.dispayedMessagesLogin);\r\n    }\r\n};\r\n__decorate([\r\n    Input()\r\n], MessageListComponent.prototype, \"displayedUserLogin\", void 0);\r\nMessageListComponent = __decorate([\r\n    Component({\r\n        selector: 'message-list-component',\r\n        templateUrl: './message.list.component.html',\r\n        styleUrls: ['./message.list.component.css']\r\n    })\r\n], MessageListComponent);\r\nexport { MessageListComponent };\r\n"]},"metadata":{},"sourceType":"module"}