{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\source\\\\repos\\\\CriptedOnlineChat\\\\CriptedOnlineChat\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FindUserDTO } from 'src/app/Services/user.service';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/db\";\nimport * as i2 from \"../../Services/DataService\";\nimport * as i3 from \"src/app/Services/user.service\";\nimport * as i4 from \"src/app/Services/rsa.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nfunction ContactListComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ul\", 11);\n    i0.ɵɵlistener(\"click\", function ContactListComponent_ng_template_12_Template_ul_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const contact_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.ChangeDisplayedMessages(contact_r1);\n    });\n    i0.ɵɵelementStart(1, \"li\", 12);\n    i0.ɵɵelementStart(2, \"div\", 13);\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 15);\n    i0.ɵɵelementStart(5, \"span\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r1 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(contact_r1.Login);\n  }\n}\n\nexport class ContactListComponent {\n  constructor(db, DataService, userService, rsaService) {\n    this.contactList = []; // Search variables\n\n    this.searchUserLogin = new FindUserDTO();\n    this.isSearchMode = false;\n    this.db = db;\n    this.DataService = DataService;\n    this.userService = userService;\n    this.rsaService = rsaService;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.fillContactList(); // submint searsh input when pressing enter\n\n      $(document).ready(function () {\n        $('input').keydown(function (e) {\n          if (e.keyCode === 13) {\n            $('.searchLoginInfo').click();\n          }\n        });\n      });\n    })();\n  }\n\n  fillContactList() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.contactList = yield _this2.db.Contacts.toArray();\n    })();\n  }\n\n  ChangeDisplayedMessages(newDesplayedUserLogin) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this3.isSearchMode) {\n        _this3.isSearchMode = false;\n\n        _this3.AddNewUserToLocalDb(newDesplayedUserLogin);\n\n        yield _this3.fillContactList();\n      }\n\n      _this3.DataService.currentDisplayedLogin.next(newDesplayedUserLogin.Login);\n    })();\n  }\n\n  searchUsers() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this4.searchUserLogin.login == \"\") {\n        return;\n      }\n\n      _this4.isSearchMode = true; // Получаем пользователей по запросу\n\n      let newDispayedUsers = [];\n      let result = yield _this4.userService.FindUsers(_this4.searchUserLogin); // TODO take preloader\n\n      result.forEach(element => {\n        var newContact = {\n          Login: element.login,\n          id: element.id\n        };\n        newDispayedUsers.push(newContact);\n      }); // Получаем пользователей находящихся в базе\n\n      var currentUsers = yield _this4.db.Contacts.toArray(); // Удаляем в списке пользователей, которые уже есть в контах\n\n      currentUsers.forEach(element => {\n        newDispayedUsers.forEach(element1 => {\n          if (element.Login == element1.Login) {\n            newDispayedUsers.splice(newDispayedUsers.indexOf(element1), 1);\n          }\n        });\n      });\n      $(\".users\").hide(500);\n      setTimeout(() => {\n        _this4.contactList = newDispayedUsers;\n        $(\".searchUsersDisplay\").show(500);\n      }, 500);\n    })();\n  }\n\n  AddNewUserToLocalDb(newUser) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      var insertedUser = newUser;\n      var rsaKeys = yield _this5.rsaService.GenerateKeyPair();\n      var publicKeyId = uuidv4();\n      var privateKeyId = uuidv4();\n      insertedUser.PrivateKeyId = privateKeyId;\n      insertedUser.PublicKeyId = publicKeyId;\n\n      _this5.db.Contacts.add(insertedUser);\n\n      let prKey = {\n        id: privateKeyId,\n        n: rsaKeys.privateKey.n,\n        e: rsaKeys.privateKey.e,\n        d: rsaKeys.privateKey.d,\n        p: rsaKeys.privateKey.p,\n        q: rsaKeys.privateKey.q,\n        dP: rsaKeys.privateKey.dP,\n        dQ: rsaKeys.privateKey.dQ,\n        qInv: rsaKeys.privateKey.qInv\n      };\n      let pubKey = {\n        id: publicKeyId,\n        n: rsaKeys.publicKey.n,\n        e: rsaKeys.publicKey.e\n      };\n\n      _this5.db.PrivateKey.add(prKey);\n\n      _this5.db.PublicKey.add(pubKey);\n\n      _this5.backToContactListButton();\n\n      let sendedRsa = {\n        nData: pubKey.n.data,\n        ns: pubKey.n.s,\n        nt: pubKey.n.t,\n        eData: pubKey.e.data,\n        es: pubKey.e.s,\n        et: pubKey.e.t\n      };\n      sendedRsa.RecipientUserId = insertedUser.id;\n      sendedRsa.SenderUserId = yield _this5.db.User.toArray();\n      console.log(sendedRsa); // TODO delete\n\n      yield _this5.rsaService.SendRSAPublicKey(sendedRsa);\n    })();\n  }\n\n  backToContactListButton() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      _this6.isSearchMode = false;\n      $(\".searchUsersDisplay\").hide(500);\n      yield _this6.fillContactList();\n      _this6.searchUserLogin.login = \"\";\n    })();\n  }\n\n}\n\nContactListComponent.ɵfac = function ContactListComponent_Factory(t) {\n  return new (t || ContactListComponent)(i0.ɵɵdirectiveInject(i1.AppDB), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.RSAService));\n};\n\nContactListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactListComponent,\n  selectors: [[\"contact-list-component\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"users-container\"], [1, \"chat-search-box\"], [1, \"input-group\"], [\"placeholder\", \"Search\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-btn\"], [\"type\", \"button\", 1, \"searchLoginInfo\", \"btn\", \"btn-info\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"searchUsersDisplay\", \"card\", \"mt-2\", 2, \"display\", \"none\"], [1, \"card-body\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"click\"], [\"ngFor\", \"\", \"class\", \"contactList\", \"id\", \"contactList\", 3, \"ngForOf\"], [1, \"users\", 3, \"click\"], [1, \"person\"], [1, \"user\"], [\"src\", \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaNDp4YnUOqj50lXmzwcNmA6x6tk__ZJoq7Q&usqp=CAU\"], [1, \"name-time\"], [1, \"name\"]],\n  template: function ContactListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactListComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.searchUserLogin.login = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function ContactListComponent_Template_button_click_5_listener() {\n        return ctx.searchUsers();\n      });\n      i0.ɵɵelement(6, \"i\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵelementStart(8, \"div\", 8);\n      i0.ɵɵtext(9, \" Searching new users \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ContactListComponent_Template_button_click_10_listener() {\n        return ctx.backToContactListButton();\n      });\n      i0.ɵɵtext(11, \"Back to Contact list\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, ContactListComponent_ng_template_12_Template, 7, 1, \"ng-template\", 10);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchUserLogin.login);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.contactList);\n    }\n  },\n  directives: [i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgForOf],\n  styles: [\"body[_ngcontent-%COMP%]{margin-top:20px;}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.chat-search-box[_ngcontent-%COMP%] {\\r\\n    border-radius: 3px 0 0 0;\\r\\n    padding: .75rem 1rem;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] {\\r\\n    border-radius: 2px 0 0 2px;\\r\\n    border-right: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus {\\r\\n    border-right: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\r\\n    border-radius: 0 2px 2px 0;\\r\\n    margin: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n    font-size: 1.2rem;\\r\\n    line-height: 100%;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .chat-search-box[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n.users-container[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    padding: 1rem 0;\\r\\n    border-right: 1px solid #e6ecf3;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.users[_ngcontent-%COMP%] {\\r\\n    padding: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    padding: 10px 1rem;\\r\\n    cursor: pointer;\\r\\n    border-bottom: 1px solid #f0f4f8;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #ffffff;\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    background-image: -o-linear-gradient(right, #e9eff5, #ffffff);\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person.active-user[_ngcontent-%COMP%] {\\r\\n    background-color: #ffffff;\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    background-image: -o-linear-gradient(right, #f7f9fb, #ffffff);\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]:last-child {\\r\\n    border-bottom: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 48px;\\r\\n    height: 48px;\\r\\n    border-radius: 50px;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border-radius: 100px;\\r\\n    background: #e6ecf3;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%] {\\r\\n    background: #9ec94a;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.offline[_ngcontent-%COMP%] {\\r\\n    background: #c4d2e2;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.away[_ngcontent-%COMP%] {\\r\\n    background: #f9be52;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.busy[_ngcontent-%COMP%] {\\r\\n    background: #fd7274;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%] {\\r\\n    font-weight: 600;\\r\\n    font-size: .85rem;\\r\\n    display: inline-block;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\\r\\n    font-weight: 400;\\r\\n    font-size: .7rem;\\r\\n    text-align: right;\\r\\n    color: #8796af;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n    }\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QubGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEtBQUssZUFBZSxDQUFDO0FBQ3JCLDRDQUE0QztBQUc1Qyx1REFBdUQ7QUFHdkQseUNBQXlDO0FBR3pDOzs7O2dEQUlnRDtBQUVoRDtJQUdJLHdCQUF3QjtJQUN4QixvQkFBb0I7QUFDeEI7QUFFQTtJQUdJLDBCQUEwQjtJQUMxQixlQUFlO0FBQ25CO0FBRUE7SUFDSSxlQUFlO0FBQ25CO0FBRUE7SUFHSSwwQkFBMEI7SUFDMUIsU0FBUztBQUNiO0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLHNCQUFzQjtBQUMxQjtBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCO0FBQ0o7QUFHQTs7OztnREFJZ0Q7QUFFaEQ7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLCtCQUErQjtJQUMvQixZQUFZO0lBRVosYUFBYTtJQUViLHNCQUFzQjtBQUMxQjtBQUdBOzs7O2dEQUlnRDtBQUVoRDtJQUNJLFVBQVU7QUFDZDtBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGdDQUFnQztBQUNwQztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUVuQixrQkFBa0I7SUFFbEIsZ0NBQWdDO0lBRWhDLFVBQVU7SUFFVixTQUFTO0lBQ1QsNkRBQTZEO0FBQ2pFO0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsbUJBQW1CO0lBRW5CLGtCQUFrQjtJQUVsQixnQ0FBZ0M7SUFFaEMsVUFBVTtJQUVWLFNBQVM7SUFDVCw2REFBNkQ7QUFDakU7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBR1osbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUdaLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0FBQ1o7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekI7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7QUFFQTtJQUNJO1FBQ0ksV0FBVztRQUNYLFlBQVk7SUFDaEI7SUFDQTtRQUNJLGFBQWE7SUFDakI7SUFDQTtRQUNJLGFBQWE7SUFDakI7QUFDSiIsImZpbGUiOiJjb250YWN0Lmxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHl7bWFyZ2luLXRvcDoyMHB4O31cclxuLyoqKioqKioqKioqKioqKiAxLlZhcmlhYmxlcyAqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tIENvbG9yIFBhbGxldCAtLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqIDIuTWl4aW5zICoqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRTZWFyY2ggQm94XHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi5jaGF0LXNlYXJjaC1ib3gge1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDA7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweCAwIDAgMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweCAwIDAgMDtcclxuICAgIHBhZGRpbmc6IC43NXJlbSAxcmVtO1xyXG59XHJcblxyXG4uY2hhdC1zZWFyY2gtYm94IC5pbnB1dC1ncm91cCAuZm9ybS1jb250cm9sIHtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4IDAgMCAycHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweCAwIDAgMnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4IDAgMCAycHg7XHJcbiAgICBib3JkZXItcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5jaGF0LXNlYXJjaC1ib3ggLmlucHV0LWdyb3VwIC5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAwO1xyXG59XHJcblxyXG4uY2hhdC1zZWFyY2gtYm94IC5pbnB1dC1ncm91cCAuaW5wdXQtZ3JvdXAtYnRuIC5idG4ge1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogMCAycHggMnB4IDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmNoYXQtc2VhcmNoLWJveCAuaW5wdXQtZ3JvdXAgLmlucHV0LWdyb3VwLWJ0biAuYnRuIGkge1xyXG4gICAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgICBsaW5lLWhlaWdodDogMTAwJTtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgLmNoYXQtc2VhcmNoLWJveCB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0VXNlcnMgQ29udGFpbmVyXHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi51c2Vycy1jb250YWluZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgcGFkZGluZzogMXJlbSAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZWNmMztcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFVzZXJzXHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi51c2VycyB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHggMXJlbTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBmNGY4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgLyogRmFsbGJhY2sgQ29sb3IgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2U5ZWZmNSksIHRvKCNmZmZmZmYpKTtcclxuICAgIC8qIFNhZjQrLCBDaHJvbWUgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZTllZmY1LCAjZmZmZmZmKTtcclxuICAgIC8qIENocm9tZSAxMCssIFNhZjUuMSssIGlPUyA1KyAqL1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQocmlnaHQsICNlOWVmZjUsICNmZmZmZmYpO1xyXG4gICAgLyogRkYzLjYgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQocmlnaHQsICNlOWVmZjUsICNmZmZmZmYpO1xyXG4gICAgLyogSUUxMCAqL1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZTllZmY1LCAjZmZmZmZmKTtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24uYWN0aXZlLXVzZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIC8qIEZhbGxiYWNrIENvbG9yICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmN2Y5ZmIpLCB0bygjZmZmZmZmKSk7XHJcbiAgICAvKiBTYWY0KywgQ2hyb21lICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChyaWdodCwgI2Y3ZjlmYiwgI2ZmZmZmZik7XHJcbiAgICAvKiBDaHJvbWUgMTArLCBTYWY1LjErLCBpT1MgNSsgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZjdmOWZiLCAjZmZmZmZmKTtcclxuICAgIC8qIEZGMy42ICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZjdmOWZiLCAjZmZmZmZmKTtcclxuICAgIC8qIElFMTAgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudChyaWdodCwgI2Y3ZjlmYiwgI2ZmZmZmZik7XHJcbn1cclxuXHJcbi51c2VycyAucGVyc29uOmxhc3QtY2hpbGQge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciBpbWcge1xyXG4gICAgd2lkdGg6IDQ4cHg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciAuc3RhdHVzIHtcclxuICAgIHdpZHRoOiAxMHB4O1xyXG4gICAgaGVpZ2h0OiAxMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxMDBweDtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogMTAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDBweDtcclxuICAgIGJhY2tncm91bmQ6ICNlNmVjZjM7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICByaWdodDogMDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIgLnN0YXR1cy5vbmxpbmUge1xyXG4gICAgYmFja2dyb3VuZDogIzllYzk0YTtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIgLnN0YXR1cy5vZmZsaW5lIHtcclxuICAgIGJhY2tncm91bmQ6ICNjNGQyZTI7XHJcbn1cclxuXHJcbi51c2VycyAucGVyc29uIC51c2VyIC5zdGF0dXMuYXdheSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjliZTUyO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciAuc3RhdHVzLmJ1c3kge1xyXG4gICAgYmFja2dyb3VuZDogI2ZkNzI3NDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gcC5uYW1lLXRpbWUge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGZvbnQtc2l6ZTogLjg1cmVtO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiBwLm5hbWUtdGltZSAudGltZSB7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgZm9udC1zaXplOiAuN3JlbTtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgY29sb3I6ICM4Nzk2YWY7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgLnVzZXJzIC5wZXJzb24gLnVzZXIgaW1nIHtcclxuICAgICAgICB3aWR0aDogMzBweDtcclxuICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICB9XHJcbiAgICAudXNlcnMgLnBlcnNvbiBwLm5hbWUtdGltZSB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuICAgIC51c2VycyAucGVyc29uIHAubmFtZS10aW1lIC50aW1lIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG59Il19 */\"]\n});","map":{"version":3,"sources":["C:/Users/DELL/source/repos/CriptedOnlineChat/CriptedOnlineChat/ClientApp/src/app/HomeComponent/ContactListComponent/contact.list.component.ts"],"names":["FindUserDTO","v4","uuidv4","i0","i1","i2","i3","i4","i5","i6","ContactListComponent_ng_template_12_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ContactListComponent_ng_template_12_Template_ul_click_0_listener","restoredCtx","ɵɵrestoreView","contact_r1","$implicit","ctx_r2","ɵɵnextContext","ChangeDisplayedMessages","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","Login","ContactListComponent","constructor","db","DataService","userService","rsaService","contactList","searchUserLogin","isSearchMode","ngOnInit","fillContactList","$","document","ready","keydown","e","keyCode","click","Contacts","toArray","newDesplayedUserLogin","AddNewUserToLocalDb","currentDisplayedLogin","next","searchUsers","login","newDispayedUsers","result","FindUsers","forEach","element","newContact","id","push","currentUsers","element1","splice","indexOf","hide","setTimeout","show","newUser","insertedUser","rsaKeys","GenerateKeyPair","publicKeyId","privateKeyId","PrivateKeyId","PublicKeyId","add","prKey","n","privateKey","d","p","q","dP","dQ","qInv","pubKey","publicKey","PrivateKey","PublicKey","backToContactListButton","sendedRsa","nData","data","ns","s","nt","t","eData","es","et","RecipientUserId","SenderUserId","User","console","log","SendRSAPublicKey","ɵfac","ContactListComponent_Factory","ɵɵdirectiveInject","AppDB","UserService","RSAService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ContactListComponent_Template","ContactListComponent_Template_input_ngModelChange_3_listener","$event","ContactListComponent_Template_button_click_5_listener","ContactListComponent_Template_button_click_10_listener","ɵɵtemplate","ɵɵproperty","directives","DefaultValueAccessor","NgControlStatus","NgModel","NgForOf","styles"],"mappings":"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","sourcesContent":["import { FindUserDTO } from 'src/app/Services/user.service';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/db\";\r\nimport * as i2 from \"../../Services/DataService\";\r\nimport * as i3 from \"src/app/Services/user.service\";\r\nimport * as i4 from \"src/app/Services/rsa.service\";\r\nimport * as i5 from \"@angular/forms\";\r\nimport * as i6 from \"@angular/common\";\r\nfunction ContactListComponent_ng_template_12_Template(rf, ctx) { if (rf & 1) {\r\n    const _r3 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"ul\", 11);\r\n    i0.ɵɵlistener(\"click\", function ContactListComponent_ng_template_12_Template_ul_click_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const contact_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.ChangeDisplayedMessages(contact_r1); });\r\n    i0.ɵɵelementStart(1, \"li\", 12);\r\n    i0.ɵɵelementStart(2, \"div\", 13);\r\n    i0.ɵɵelement(3, \"img\", 14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"p\", 15);\r\n    i0.ɵɵelementStart(5, \"span\", 16);\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const contact_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵtextInterpolate(contact_r1.Login);\r\n} }\r\nexport class ContactListComponent {\r\n    constructor(db, DataService, userService, rsaService) {\r\n        this.contactList = [];\r\n        // Search variables\r\n        this.searchUserLogin = new FindUserDTO();\r\n        this.isSearchMode = false;\r\n        this.db = db;\r\n        this.DataService = DataService;\r\n        this.userService = userService;\r\n        this.rsaService = rsaService;\r\n    }\r\n    async ngOnInit() {\r\n        await this.fillContactList();\r\n        // submint searsh input when pressing enter\r\n        $(document).ready(function () {\r\n            $('input').keydown(function (e) {\r\n                if (e.keyCode === 13) {\r\n                    $('.searchLoginInfo').click();\r\n                }\r\n            });\r\n        });\r\n    }\r\n    async fillContactList() {\r\n        this.contactList = await this.db.Contacts.toArray();\r\n    }\r\n    async ChangeDisplayedMessages(newDesplayedUserLogin) {\r\n        if (this.isSearchMode) {\r\n            this.isSearchMode = false;\r\n            this.AddNewUserToLocalDb(newDesplayedUserLogin);\r\n            await this.fillContactList();\r\n        }\r\n        this.DataService.currentDisplayedLogin.next(newDesplayedUserLogin.Login);\r\n    }\r\n    async searchUsers() {\r\n        if (this.searchUserLogin.login == \"\") {\r\n            return;\r\n        }\r\n        this.isSearchMode = true;\r\n        // Получаем пользователей по запросу\r\n        let newDispayedUsers = [];\r\n        let result = await this.userService.FindUsers(this.searchUserLogin); // TODO take preloader\r\n        result.forEach(element => {\r\n            var newContact = { Login: element.login, id: element.id };\r\n            newDispayedUsers.push(newContact);\r\n        });\r\n        // Получаем пользователей находящихся в базе\r\n        var currentUsers = await this.db.Contacts.toArray();\r\n        // Удаляем в списке пользователей, которые уже есть в контах\r\n        currentUsers.forEach(element => {\r\n            newDispayedUsers.forEach(element1 => {\r\n                if (element.Login == element1.Login) {\r\n                    newDispayedUsers.splice(newDispayedUsers.indexOf(element1), 1);\r\n                }\r\n            });\r\n        });\r\n        $(\".users\").hide(500);\r\n        setTimeout(() => {\r\n            this.contactList = newDispayedUsers;\r\n            $(\".searchUsersDisplay\").show(500);\r\n        }, 500);\r\n    }\r\n    async AddNewUserToLocalDb(newUser) {\r\n        var insertedUser = newUser;\r\n        var rsaKeys = await this.rsaService.GenerateKeyPair();\r\n        var publicKeyId = uuidv4();\r\n        var privateKeyId = uuidv4();\r\n        insertedUser.PrivateKeyId = privateKeyId;\r\n        insertedUser.PublicKeyId = publicKeyId;\r\n        this.db.Contacts.add(insertedUser);\r\n        let prKey = { id: privateKeyId, n: rsaKeys.privateKey.n, e: rsaKeys.privateKey.e,\r\n            d: rsaKeys.privateKey.d, p: rsaKeys.privateKey.p, q: rsaKeys.privateKey.q,\r\n            dP: rsaKeys.privateKey.dP, dQ: rsaKeys.privateKey.dQ, qInv: rsaKeys.privateKey.qInv };\r\n        let pubKey = { id: publicKeyId, n: rsaKeys.publicKey.n, e: rsaKeys.publicKey.e };\r\n        this.db.PrivateKey.add(prKey);\r\n        this.db.PublicKey.add(pubKey);\r\n        this.backToContactListButton();\r\n        let sendedRsa = { nData: pubKey.n.data, ns: pubKey.n.s, nt: pubKey.n.t, eData: pubKey.e.data, es: pubKey.e.s, et: pubKey.e.t };\r\n        sendedRsa.RecipientUserId = insertedUser.id;\r\n        sendedRsa.SenderUserId = await this.db.User.toArray();\r\n        console.log(sendedRsa); // TODO delete\r\n        await this.rsaService.SendRSAPublicKey(sendedRsa);\r\n    }\r\n    async backToContactListButton() {\r\n        this.isSearchMode = false;\r\n        $(\".searchUsersDisplay\").hide(500);\r\n        await this.fillContactList();\r\n        this.searchUserLogin.login = \"\";\r\n    }\r\n}\r\nContactListComponent.ɵfac = function ContactListComponent_Factory(t) { return new (t || ContactListComponent)(i0.ɵɵdirectiveInject(i1.AppDB), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.RSAService)); };\r\nContactListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContactListComponent, selectors: [[\"contact-list-component\"]], decls: 13, vars: 2, consts: [[1, \"users-container\"], [1, \"chat-search-box\"], [1, \"input-group\"], [\"placeholder\", \"Search\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-btn\"], [\"type\", \"button\", 1, \"searchLoginInfo\", \"btn\", \"btn-info\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"searchUsersDisplay\", \"card\", \"mt-2\", 2, \"display\", \"none\"], [1, \"card-body\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"click\"], [\"ngFor\", \"\", \"class\", \"contactList\", \"id\", \"contactList\", 3, \"ngForOf\"], [1, \"users\", 3, \"click\"], [1, \"person\"], [1, \"user\"], [\"src\", \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaNDp4YnUOqj50lXmzwcNmA6x6tk__ZJoq7Q&usqp=CAU\"], [1, \"name-time\"], [1, \"name\"]], template: function ContactListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"input\", 3);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ContactListComponent_Template_input_ngModelChange_3_listener($event) { return ctx.searchUserLogin.login = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵelementStart(5, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function ContactListComponent_Template_button_click_5_listener() { return ctx.searchUsers(); });\r\n        i0.ɵɵelement(6, \"i\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 7);\r\n        i0.ɵɵelementStart(8, \"div\", 8);\r\n        i0.ɵɵtext(9, \" Searching new users \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"button\", 9);\r\n        i0.ɵɵlistener(\"click\", function ContactListComponent_Template_button_click_10_listener() { return ctx.backToContactListButton(); });\r\n        i0.ɵɵtext(11, \"Back to Contact list\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(12, ContactListComponent_ng_template_12_Template, 7, 1, \"ng-template\", 10);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.searchUserLogin.login);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.contactList);\r\n    } }, directives: [i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgForOf], styles: [\"body[_ngcontent-%COMP%]{margin-top:20px;}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.chat-search-box[_ngcontent-%COMP%] {\\r\\n    border-radius: 3px 0 0 0;\\r\\n    padding: .75rem 1rem;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] {\\r\\n    border-radius: 2px 0 0 2px;\\r\\n    border-right: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus {\\r\\n    border-right: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\r\\n    border-radius: 0 2px 2px 0;\\r\\n    margin: 0;\\r\\n}\\r\\n.chat-search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n    font-size: 1.2rem;\\r\\n    line-height: 100%;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .chat-search-box[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n.users-container[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    padding: 1rem 0;\\r\\n    border-right: 1px solid #e6ecf3;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.users[_ngcontent-%COMP%] {\\r\\n    padding: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    padding: 10px 1rem;\\r\\n    cursor: pointer;\\r\\n    border-bottom: 1px solid #f0f4f8;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #ffffff;\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    background-image: -o-linear-gradient(right, #e9eff5, #ffffff);\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person.active-user[_ngcontent-%COMP%] {\\r\\n    background-color: #ffffff;\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    background-image: -o-linear-gradient(right, #f7f9fb, #ffffff);\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]:last-child {\\r\\n    border-bottom: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 48px;\\r\\n    height: 48px;\\r\\n    border-radius: 50px;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border-radius: 100px;\\r\\n    background: #e6ecf3;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%] {\\r\\n    background: #9ec94a;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.offline[_ngcontent-%COMP%] {\\r\\n    background: #c4d2e2;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.away[_ngcontent-%COMP%] {\\r\\n    background: #f9be52;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .status.busy[_ngcontent-%COMP%] {\\r\\n    background: #fd7274;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%] {\\r\\n    font-weight: 600;\\r\\n    font-size: .85rem;\\r\\n    display: inline-block;\\r\\n}\\r\\n.users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\\r\\n    font-weight: 400;\\r\\n    font-size: .7rem;\\r\\n    text-align: right;\\r\\n    color: #8796af;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n    }\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n    .users[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   p.name-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\\r\\n        display: none;\\r\\n    }\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QubGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEtBQUssZUFBZSxDQUFDO0FBQ3JCLDRDQUE0QztBQUc1Qyx1REFBdUQ7QUFHdkQseUNBQXlDO0FBR3pDOzs7O2dEQUlnRDtBQUVoRDtJQUdJLHdCQUF3QjtJQUN4QixvQkFBb0I7QUFDeEI7QUFFQTtJQUdJLDBCQUEwQjtJQUMxQixlQUFlO0FBQ25CO0FBRUE7SUFDSSxlQUFlO0FBQ25CO0FBRUE7SUFHSSwwQkFBMEI7SUFDMUIsU0FBUztBQUNiO0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLHNCQUFzQjtBQUMxQjtBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCO0FBQ0o7QUFHQTs7OztnREFJZ0Q7QUFFaEQ7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLCtCQUErQjtJQUMvQixZQUFZO0lBRVosYUFBYTtJQUViLHNCQUFzQjtBQUMxQjtBQUdBOzs7O2dEQUlnRDtBQUVoRDtJQUNJLFVBQVU7QUFDZDtBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGdDQUFnQztBQUNwQztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUVuQixrQkFBa0I7SUFFbEIsZ0NBQWdDO0lBRWhDLFVBQVU7SUFFVixTQUFTO0lBQ1QsNkRBQTZEO0FBQ2pFO0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsbUJBQW1CO0lBRW5CLGtCQUFrQjtJQUVsQixnQ0FBZ0M7SUFFaEMsVUFBVTtJQUVWLFNBQVM7SUFDVCw2REFBNkQ7QUFDakU7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBR1osbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUdaLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0FBQ1o7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekI7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7QUFFQTtJQUNJO1FBQ0ksV0FBVztRQUNYLFlBQVk7SUFDaEI7SUFDQTtRQUNJLGFBQWE7SUFDakI7SUFDQTtRQUNJLGFBQWE7SUFDakI7QUFDSiIsImZpbGUiOiJjb250YWN0Lmxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHl7bWFyZ2luLXRvcDoyMHB4O31cclxuLyoqKioqKioqKioqKioqKiAxLlZhcmlhYmxlcyAqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tIENvbG9yIFBhbGxldCAtLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqIDIuTWl4aW5zICoqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRTZWFyY2ggQm94XHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi5jaGF0LXNlYXJjaC1ib3gge1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDA7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweCAwIDAgMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweCAwIDAgMDtcclxuICAgIHBhZGRpbmc6IC43NXJlbSAxcmVtO1xyXG59XHJcblxyXG4uY2hhdC1zZWFyY2gtYm94IC5pbnB1dC1ncm91cCAuZm9ybS1jb250cm9sIHtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4IDAgMCAycHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweCAwIDAgMnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4IDAgMCAycHg7XHJcbiAgICBib3JkZXItcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5jaGF0LXNlYXJjaC1ib3ggLmlucHV0LWdyb3VwIC5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAwO1xyXG59XHJcblxyXG4uY2hhdC1zZWFyY2gtYm94IC5pbnB1dC1ncm91cCAuaW5wdXQtZ3JvdXAtYnRuIC5idG4ge1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogMCAycHggMnB4IDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmNoYXQtc2VhcmNoLWJveCAuaW5wdXQtZ3JvdXAgLmlucHV0LWdyb3VwLWJ0biAuYnRuIGkge1xyXG4gICAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgICBsaW5lLWhlaWdodDogMTAwJTtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgLmNoYXQtc2VhcmNoLWJveCB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0VXNlcnMgQ29udGFpbmVyXHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi51c2Vycy1jb250YWluZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgcGFkZGluZzogMXJlbSAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZWNmMztcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFVzZXJzXHJcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi51c2VycyB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHggMXJlbTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBmNGY4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgLyogRmFsbGJhY2sgQ29sb3IgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2U5ZWZmNSksIHRvKCNmZmZmZmYpKTtcclxuICAgIC8qIFNhZjQrLCBDaHJvbWUgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZTllZmY1LCAjZmZmZmZmKTtcclxuICAgIC8qIENocm9tZSAxMCssIFNhZjUuMSssIGlPUyA1KyAqL1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQocmlnaHQsICNlOWVmZjUsICNmZmZmZmYpO1xyXG4gICAgLyogRkYzLjYgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQocmlnaHQsICNlOWVmZjUsICNmZmZmZmYpO1xyXG4gICAgLyogSUUxMCAqL1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZTllZmY1LCAjZmZmZmZmKTtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24uYWN0aXZlLXVzZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIC8qIEZhbGxiYWNrIENvbG9yICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmN2Y5ZmIpLCB0bygjZmZmZmZmKSk7XHJcbiAgICAvKiBTYWY0KywgQ2hyb21lICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChyaWdodCwgI2Y3ZjlmYiwgI2ZmZmZmZik7XHJcbiAgICAvKiBDaHJvbWUgMTArLCBTYWY1LjErLCBpT1MgNSsgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZjdmOWZiLCAjZmZmZmZmKTtcclxuICAgIC8qIEZGMy42ICovXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjZjdmOWZiLCAjZmZmZmZmKTtcclxuICAgIC8qIElFMTAgKi9cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudChyaWdodCwgI2Y3ZjlmYiwgI2ZmZmZmZik7XHJcbn1cclxuXHJcbi51c2VycyAucGVyc29uOmxhc3QtY2hpbGQge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciBpbWcge1xyXG4gICAgd2lkdGg6IDQ4cHg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciAuc3RhdHVzIHtcclxuICAgIHdpZHRoOiAxMHB4O1xyXG4gICAgaGVpZ2h0OiAxMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxMDBweDtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogMTAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDBweDtcclxuICAgIGJhY2tncm91bmQ6ICNlNmVjZjM7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICByaWdodDogMDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIgLnN0YXR1cy5vbmxpbmUge1xyXG4gICAgYmFja2dyb3VuZDogIzllYzk0YTtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gLnVzZXIgLnN0YXR1cy5vZmZsaW5lIHtcclxuICAgIGJhY2tncm91bmQ6ICNjNGQyZTI7XHJcbn1cclxuXHJcbi51c2VycyAucGVyc29uIC51c2VyIC5zdGF0dXMuYXdheSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjliZTUyO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiAudXNlciAuc3RhdHVzLmJ1c3kge1xyXG4gICAgYmFja2dyb3VuZDogI2ZkNzI3NDtcclxufVxyXG5cclxuLnVzZXJzIC5wZXJzb24gcC5uYW1lLXRpbWUge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGZvbnQtc2l6ZTogLjg1cmVtO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4udXNlcnMgLnBlcnNvbiBwLm5hbWUtdGltZSAudGltZSB7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgZm9udC1zaXplOiAuN3JlbTtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgY29sb3I6ICM4Nzk2YWY7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgLnVzZXJzIC5wZXJzb24gLnVzZXIgaW1nIHtcclxuICAgICAgICB3aWR0aDogMzBweDtcclxuICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICB9XHJcbiAgICAudXNlcnMgLnBlcnNvbiBwLm5hbWUtdGltZSB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuICAgIC51c2VycyAucGVyc29uIHAubmFtZS10aW1lIC50aW1lIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG59Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}