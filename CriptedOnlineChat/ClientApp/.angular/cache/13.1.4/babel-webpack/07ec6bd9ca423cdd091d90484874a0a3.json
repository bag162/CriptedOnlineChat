{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\DELL\\\\source\\\\repos\\\\CriptedOnlineChat\\\\CriptedOnlineChat\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { NgModule } from '@angular/core';\nimport { db } from 'src/db';\nimport { RSAService } from 'src/app/rsa';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/rsa\";\nexport class RegisterUserComponent {\n  constructor(http, baseUrl, rsaService) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.rsaService = rsaService;\n    this.currentUser = {\n      Login: \"\"\n    };\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var user = yield db.User.toArray();\n\n      if (user.length != 0) {\n        console.log(\"Пользователь зарегестрирован\");\n        _this.currentUser = user[0];\n        $(\"#inputLogin\").prop(\"disabled\", true);\n        $(\"#sendButton\").hide();\n      }\n    })();\n  }\n\n  RegisterUser() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.currentUser.Login == \"\") {\n        // add notify\n        return;\n      }\n\n      yield _this2.http.post(_this2.baseUrl + \"user\", _this2.currentUser).subscribe(result => _this2.DisplayNotify(result));\n      return;\n    })();\n  }\n\n  DisplayNotify(resultRequest) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (resultRequest == \"true\") {\n        yield db.User.add(yield _this3.currentUser, 0);\n        console.log(resultRequest + \"true\");\n        $(\"#inputLogin\").prop(\"disabled\", true);\n        $(\"#sendButton\").hide();\n        $(\"#succesNotify\").show(500);\n        setTimeout(() => {\n          $(\"#succesNotify\").hide(500);\n        }, 2500);\n      } else {\n        console.log(resultRequest + \"false\");\n        $(\"#dangerNotify\").show(500);\n        setTimeout(() => {\n          $(\"#dangerNotify\").hide(500);\n        }, 2500);\n      }\n    })();\n  }\n\n}\n\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) {\n  return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.RSAService));\n};\n\nRegisterUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterUserComponent,\n  selectors: [[\"register-user-component\"]],\n  features: [i0.ɵɵProvidersFeature([RSAService, NgModule])],\n  decls: 14,\n  vars: 1,\n  consts: [[1, \"form-group\", \"mx-sm-3\", \"mb-2\"], [1, \"row\"], [1, \"col-9\"], [\"id\", \"inputLogin\", \"placeholder\", \"Login\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-2\"], [\"type\", \"submit\", \"id\", \"sendButton\", 1, \"btn\", \"btn-primary\", \"mb-2\", 3, \"click\"], [1, \"mt-1\"], [\"role\", \"alert\", \"id\", \"succesNotify\", 1, \"alert\", \"alert-success\", 2, \"display\", \"none\"], [\"role\", \"alert\", \"id\", \"dangerNotify\", 1, \"alert\", \"alert-danger\", 2, \"display\", \"none\"]],\n  template: function RegisterUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\");\n      i0.ɵɵtext(2, \" Login \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.currentUser.Login = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4);\n      i0.ɵɵelementStart(7, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_7_listener() {\n        return ctx.RegisterUser();\n      });\n      i0.ɵɵtext(8, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"div\", 7);\n      i0.ɵɵtext(11, \" \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0440\\u0435\\u0433\\u0435\\u043D\\u0438\\u0441\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 8);\n      i0.ɵɵtext(13, \" \\u0414\\u0430\\u043D\\u043D\\u044B\\u0439 Login \\u0443\\u0436\\u0435 \\u0437\\u0430\\u043D\\u044F\\u0442 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.currentUser.Login);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/DELL/source/repos/CriptedOnlineChat/CriptedOnlineChat/ClientApp/src/app/ContactListComponent/RegisterUserComponent/registerUserComponent.ts"],"names":["NgModule","db","RSAService","i0","i1","i2","RegisterUserComponent","constructor","http","baseUrl","rsaService","currentUser","Login","ngOnInit","user","User","toArray","length","console","log","$","prop","hide","RegisterUser","post","subscribe","result","DisplayNotify","resultRequest","add","show","setTimeout","ɵfac","RegisterUserComponent_Factory","t","ɵɵdirectiveInject","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","RegisterUserComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RegisterUserComponent_Template_input_ngModelChange_5_listener","$event","RegisterUserComponent_Template_button_click_7_listener","ɵɵadvance","ɵɵproperty","encapsulation"],"mappings":"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","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { db } from 'src/db';\r\nimport { RSAService } from 'src/app/rsa';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"src/app/rsa\";\r\nexport class RegisterUserComponent {\r\n    constructor(http, baseUrl, rsaService) {\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n        this.rsaService = rsaService;\r\n        this.currentUser = { Login: \"\" };\r\n    }\r\n    async ngOnInit() {\r\n        var user = await db.User.toArray();\r\n        if (user.length != 0) {\r\n            console.log(\"Пользователь зарегестрирован\");\r\n            this.currentUser = user[0];\r\n            $(\"#inputLogin\").prop(\"disabled\", true);\r\n            $(\"#sendButton\").hide();\r\n        }\r\n    }\r\n    async RegisterUser() {\r\n        if (this.currentUser.Login == \"\") {\r\n            // add notify\r\n            return;\r\n        }\r\n        await this.http.post(this.baseUrl + \"user\", this.currentUser).subscribe(result => this.DisplayNotify(result));\r\n        return;\r\n    }\r\n    async DisplayNotify(resultRequest) {\r\n        if (resultRequest == \"true\") {\r\n            await db.User.add(await this.currentUser, 0);\r\n            console.log(resultRequest + \"true\");\r\n            $(\"#inputLogin\").prop(\"disabled\", true);\r\n            $(\"#sendButton\").hide();\r\n            $(\"#succesNotify\").show(500);\r\n            setTimeout(() => {\r\n                $(\"#succesNotify\").hide(500);\r\n            }, 2500);\r\n        }\r\n        else {\r\n            console.log(resultRequest + \"false\");\r\n            $(\"#dangerNotify\").show(500);\r\n            setTimeout(() => {\r\n                $(\"#dangerNotify\").hide(500);\r\n            }, 2500);\r\n        }\r\n    }\r\n}\r\nRegisterUserComponent.ɵfac = function RegisterUserComponent_Factory(t) { return new (t || RegisterUserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.RSAService)); };\r\nRegisterUserComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegisterUserComponent, selectors: [[\"register-user-component\"]], features: [i0.ɵɵProvidersFeature([RSAService, NgModule])], decls: 14, vars: 1, consts: [[1, \"form-group\", \"mx-sm-3\", \"mb-2\"], [1, \"row\"], [1, \"col-9\"], [\"id\", \"inputLogin\", \"placeholder\", \"Login\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-2\"], [\"type\", \"submit\", \"id\", \"sendButton\", 1, \"btn\", \"btn-primary\", \"mb-2\", 3, \"click\"], [1, \"mt-1\"], [\"role\", \"alert\", \"id\", \"succesNotify\", 1, \"alert\", \"alert-success\", 2, \"display\", \"none\"], [\"role\", \"alert\", \"id\", \"dangerNotify\", 1, \"alert\", \"alert-danger\", 2, \"display\", \"none\"]], template: function RegisterUserComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\");\r\n        i0.ɵɵtext(2, \" Login \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\", 1);\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"input\", 3);\r\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterUserComponent_Template_input_ngModelChange_5_listener($event) { return ctx.currentUser.Login = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 4);\r\n        i0.ɵɵelementStart(7, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function RegisterUserComponent_Template_button_click_7_listener() { return ctx.RegisterUser(); });\r\n        i0.ɵɵtext(8, \"Register\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 6);\r\n        i0.ɵɵelementStart(10, \"div\", 7);\r\n        i0.ɵɵtext(11, \" \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0440\\u0435\\u0433\\u0435\\u043D\\u0438\\u0441\\u0442\\u0440\\u043E\\u0432\\u0430\\u043D \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"div\", 8);\r\n        i0.ɵɵtext(13, \" \\u0414\\u0430\\u043D\\u043D\\u044B\\u0439 Login \\u0443\\u0436\\u0435 \\u0437\\u0430\\u043D\\u044F\\u0442 \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.currentUser.Login);\r\n    } }, encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}